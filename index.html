<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>SCFHS Prometric Adaptive Exam</title>
<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f6f8;
  padding:40px;
}
.card{
  max-width:700px;
  margin:auto;
  background:#fff;
  padding:30px;
  border-radius:8px;
}
.hidden{display:none}
button{
  padding:12px 20px;
  font-size:16px;
  margin-top:20px;
  cursor:pointer;
}
.option{margin:10px 0}
</style>
</head>

<body>

<div class="card" id="start">
  <h2>SCFHS Prometric Adaptive Exam</h2>
  <p><strong>Format:</strong> Easy → Medium → Hard (Adaptive)</p>
  <p>Candidate Name / ID (optional)</p>
  <input id="name" style="padding:10px;width:80%">
  <br>
  <button onclick="startExam()">Start Exam</button>
</div>

<div class="card hidden" id="exam">
  <h3 id="qnum"></h3>
  <p id="qtext"></p>
  <div id="opts"></div>
  <button onclick="next()">Next</button>
</div>

<div class="card hidden" id="end">
  <h2>Exam Completed</h2>
  <p id="result"></p>
</div>

<script>
/* ===== QUESTIONS ===== */
const questions = [
  {
    q: "A patient suddenly becomes cyanotic with difficulty breathing. What is the PRIORITY nursing action?",
    o: [
      "Notify the physician",
      "Assess and secure the airway",
      "Document the findings",
      "Prepare prescribed medication"
    ],
    a: 1,
    r: "Airway is always the first priority. Assessment and airway support come before notification or documentation."
  },
  {
    q: "Before administering IV medication, what should the nurse do FIRST?",
    o: [
      "Flush the IV line",
      "Check for medication allergies",
      "Administer the medication slowly",
      "Document administration"
    ],
    a: 1,
    r: "Checking allergies is a critical safety step and must be done before any medication is given."
  }
];

let i = 0;
let score = 0;

/* ===== FUNCTIONS ===== */
function startExam(){
  document.getElementById("start").classList.add("hidden");
  document.getElementById("exam").classList.remove("hidden");
  loadQuestion();
}

function loadQuestion(){
  document.getElementById("qnum").innerText =
    "Question " + (i+1) + " of " + questions.length;
  document.getElementById("qtext").innerText = questions[i].q;

  const opts = document.getElementById("opts");
  opts.innerHTML = "";

  questions[i].o.forEach((text, idx) => {
    const div = document.createElement("div");
    div.className = "option";
    div.innerHTML =
      `<label>
        <input type="radio" name="ans" value="${idx}">
        ${text}
       </label>`;
    opts.appendChild(div);
  });
}

function next(){
  const selected = document.querySelector("input[name='ans']:checked");
  if(!selected){
    alert("Select an answer");
    return;
  }

  if(parseInt(selected.value) === questions[i].a){
    score++;
    i++;
    if(i < questions.length){
      loadQuestion();
    } else {
      finish();
    }
  } else {
    alert("Incorrect.\n\nRationale:\n" + questions[i].r);
  }
}

function finish(){
  document.getElementById("exam").classList.add("hidden");
  document.getElementById("end").classList.remove("hidden");
  document.getElementById("result").innerText =
    "Score: " + score + " / " + questions.length;
}
</script>

</body>
</html>
